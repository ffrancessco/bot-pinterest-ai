const a0_0x23b15e=a0_0x1243;(function(_0x5831f1,_0x1adb33){const _0x2a8fc8=a0_0x1243,_0x51fd79=_0x5831f1();while(!![]){try{const _0x57f800=parseInt(_0x2a8fc8(0x213))/0x1*(parseInt(_0x2a8fc8(0x1a1))/0x2)+parseInt(_0x2a8fc8(0x1d9))/0x3+-parseInt(_0x2a8fc8(0x202))/0x4+parseInt(_0x2a8fc8(0x1cd))/0x5+parseInt(_0x2a8fc8(0x1cc))/0x6+parseInt(_0x2a8fc8(0x1bd))/0x7+-parseInt(_0x2a8fc8(0x1db))/0x8;if(_0x57f800===_0x1adb33)break;else _0x51fd79['push'](_0x51fd79['shift']());}catch(_0x2bab47){_0x51fd79['push'](_0x51fd79['shift']());}}}(a0_0x472f,0x586a6));const puppeteer=require(a0_0x23b15e(0x19d)),StealthPlugin=require('puppeteer-extra-plugin-stealth'),axios=require(a0_0x23b15e(0x1d6)),fs=require('fs')[a0_0x23b15e(0x1d0)],path=require(a0_0x23b15e(0x1dc)),config=require(a0_0x23b15e(0x18e)),fetch=require(a0_0x23b15e(0x1d5));puppeteer['use'](StealthPlugin());const VALIDATION_SERVER_URL='https://license-server-botnews.vercel.app/api/validate',PRODUCT_NAME=a0_0x23b15e(0x208);async function checkLicense(){const _0x434cb0=a0_0x23b15e;console['log'](_0x434cb0(0x19c));const _0x313466=process[_0x434cb0(0x1c3)][_0x434cb0(0x1c6)];if(!_0x313466)throw new Error(_0x434cb0(0x1a3));const _0x9ad92=VALIDATION_SERVER_URL+_0x434cb0(0x1e9)+encodeURIComponent(_0x313466)+'&product='+PRODUCT_NAME;try{const _0x233a44=await fetch(_0x9ad92),_0x3d0e5b=await _0x233a44['json']();if(_0x233a44['ok']&&_0x3d0e5b['status']===_0x434cb0(0x191))return console[_0x434cb0(0x1d8)](_0x434cb0(0x204)),!![];throw new Error(_0x434cb0(0x19f)+_0x233a44['status']+_0x434cb0(0x20d)+(_0x3d0e5b[_0x434cb0(0x1bc)]||_0x434cb0(0x18c)));}catch(_0x230472){throw new Error(_0x434cb0(0x20c)+_0x230472['message']);}}const USED_PEXELS_FILE=path[a0_0x23b15e(0x20f)](__dirname,a0_0x23b15e(0x1b4)),COOKIES_PATH=path[a0_0x23b15e(0x20f)](__dirname,'cookies.json'),LAST_KEYWORD_INDEX_FILE=path[a0_0x23b15e(0x20f)](__dirname,a0_0x23b15e(0x20e)),AI_MODEL=config[a0_0x23b15e(0x1ba)][a0_0x23b15e(0x1d7)]||a0_0x23b15e(0x1aa);async function getUsedItems(_0x5afce0){const _0x390df8=a0_0x23b15e;try{const _0x4e8e45=await fs[_0x390df8(0x212)](_0x5afce0,_0x390df8(0x1be));return new Set(_0x4e8e45[_0x390df8(0x1e4)]('\x0a')[_0x390df8(0x190)](_0xa921ce=>_0xa921ce[_0x390df8(0x210)]()!==''));}catch(_0x395cd9){if(_0x395cd9[_0x390df8(0x1b5)]===_0x390df8(0x1a5))return new Set();throw _0x395cd9;}}async function addUsedItem(_0x3ffeaa,_0xa00266){const _0x17e881=a0_0x23b15e;await fs[_0x17e881(0x1e1)](_0x3ffeaa,_0xa00266+'\x0a');}async function getPexelsImage(_0x5c9b2b,_0x2ee32d){const _0x1f34f1=a0_0x23b15e;console[_0x1f34f1(0x1d8)](_0x1f34f1(0x201)+_0x5c9b2b+'\x22');const _0x37fe22=await axios[_0x1f34f1(0x1b0)]('https://api.pexels.com/v1/search?query='+encodeURIComponent(_0x5c9b2b)+'&per_page=20',{'headers':{'Authorization':process['env']['PEXELS_API_KEY']}}),_0x194965=_0x37fe22[_0x1f34f1(0x205)][_0x1f34f1(0x1e2)];if(!_0x194965||_0x194965[_0x1f34f1(0x189)]===0x0)throw new Error(_0x1f34f1(0x1a9)+_0x5c9b2b+'.');const _0x11cc63=_0x194965['find'](_0x524ee4=>!_0x2ee32d[_0x1f34f1(0x206)](String(_0x524ee4['id'])));if(!_0x11cc63)throw new Error('Semua\x20gambar\x20Pexels\x20yang\x20ditemukan\x20sudah\x20pernah\x20digunakan.');return console[_0x1f34f1(0x1d8)]('Gambar\x20Pexels\x20ditemukan:\x20'+_0x11cc63[_0x1f34f1(0x1fb)]),{'url':_0x11cc63[_0x1f34f1(0x1ca)]['large'],'id':String(_0x11cc63['id'])};}async function getGeminiContentForPexels(_0xa2e1ef){const _0x4998e4=a0_0x23b15e;console['log']('Menghubungi\x20Gemini\x20AI\x20('+AI_MODEL+_0x4998e4(0x1cb));const _0x404608=config[_0x4998e4(0x1ba)][_0x4998e4(0x1ed)][_0x4998e4(0x193)](_0x4998e4(0x1f8),_0xa2e1ef);try{const _0x1cbd65=await axios[_0x4998e4(0x1eb)](_0x4998e4(0x209)+AI_MODEL+_0x4998e4(0x1ad)+process['env'][_0x4998e4(0x1fe)],{'contents':[{'parts':[{'text':_0x404608}]}]},{'headers':{'Content-Type':_0x4998e4(0x1b7)}}),_0x6db9cd=_0x1cbd65[_0x4998e4(0x205)][_0x4998e4(0x1b2)][0x0][_0x4998e4(0x1ea)][_0x4998e4(0x18d)][0x0][_0x4998e4(0x1f2)],_0x2c1dd5=_0x6db9cd['match'](/Judul: (.*)/),_0xcd787b=_0x6db9cd['match'](/Deskripsi: (.*)/s);if(_0x2c1dd5&&_0xcd787b)return console['log']('Konten\x20dari\x20Gemini\x20berhasil\x20didapatkan.'),{'title':_0x2c1dd5[0x1][_0x4998e4(0x210)](),'description':_0xcd787b[0x1][_0x4998e4(0x210)]()};}catch(_0x35fb62){console[_0x4998e4(0x1fc)](_0x4998e4(0x1e7),_0x35fb62[_0x4998e4(0x1b3)]?_0x35fb62['response']['data']:_0x35fb62['message']);}return console['log']('Menggunakan\x20konten\x20fallback.'),{'title':config[_0x4998e4(0x1ba)][_0x4998e4(0x18b)],'description':config[_0x4998e4(0x1ba)][_0x4998e4(0x198)][_0x4998e4(0x193)]('{keyword}','#'+_0xa2e1ef[_0x4998e4(0x193)](/\s+/g,''))};}async function getGeminiTags(_0x280949){const _0x834b43=a0_0x23b15e;console[_0x834b43(0x1d8)](_0x834b43(0x1ab)+AI_MODEL+_0x834b43(0x1e0));const _0xfff15f=config[_0x834b43(0x1ba)][_0x834b43(0x1c9)]['replace'](_0x834b43(0x19b),_0x280949);try{const _0xad9e70=await axios['post'](_0x834b43(0x209)+AI_MODEL+_0x834b43(0x1ad)+process[_0x834b43(0x1c3)][_0x834b43(0x1fe)],{'contents':[{'parts':[{'text':_0xfff15f}]}]},{'headers':{'Content-Type':_0x834b43(0x1b7)}}),_0x33dd8b=_0xad9e70[_0x834b43(0x205)][_0x834b43(0x1b2)][0x0][_0x834b43(0x1ea)][_0x834b43(0x18d)][0x0][_0x834b43(0x1f2)];return _0x33dd8b[_0x834b43(0x1e4)](',')[_0x834b43(0x1c0)](_0x361fe8=>_0x361fe8[_0x834b43(0x210)]())[_0x834b43(0x190)](_0x14b22f=>_0x14b22f);}catch(_0x3ff37a){return console[_0x834b43(0x1fc)]('Error\x20saat\x20membuat\x20kata\x20pancingan\x20tags:',_0x3ff37a['message']),[];}}function a0_0x1243(_0x756c0,_0xc39f66){const _0x472fc3=a0_0x472f();return a0_0x1243=function(_0x124344,_0x28774d){_0x124344=_0x124344-0x188;let _0x4d0545=_0x472fc3[_0x124344];return _0x4d0545;},a0_0x1243(_0x756c0,_0xc39f66);}function a0_0x472f(){const _0x383c16=['code','exit','application/json','input[type=file]','destinationLink','gemini','error_screenshot.png','message','1285403mNvGnY','utf8','):\x20\x22','map','âœ…\x20Pin\x20berhasil\x20dibuat\x20dengan\x20judul:\x20\x22','setCookie','env','input#WebsiteField','div[data-test-id=\x22storyboard-suggestions-item\x22]','BOT_LICENSE_EMAIL','count','Lax','tagsPrompt','src',')\x20untuk\x20konten...','1020966iVBceQ','2027510jHkOhF','input#storyboard-selector-title','newPage','promises','waitForTimeout','Mengisi\x20detail\x20Pin...','button[aria-label=\x22Create\x20a\x20Pin\x20or\x20add\x20a\x20Section\x22]','Berhasil\x20masuk\x20ke\x20Pin\x20Builder.\x20Mengunggah\x20gambar...','node-fetch','axios','aiModel','log','805524CzKObg','div[data-test-id=\x22editor-with-mentions\x22]\x20[contenteditable=\x22true\x22]','5456664AbEdRB','path','boardUrl','Gagal\x20membaca\x20file\x20keyword\x20\x27','focus',')\x20untuk\x20kata\x20pancingan\x20tags...','appendFile','photos','click','split','File\x20keyword\x20\x27','press','Error\x20saat\x20menghubungi\x20Gemini\x20AI:','new','?email=','content','post','down','prompt','screenshot','File\x20last_keyword_index.txt\x20tidak\x20ditemukan,\x20memulai\x20dari\x20awal.','writeFile','settings','text','title','Menunggu\x2015\x20detik\x20untuk\x20proses\x20publish...','input#storyboard-selector-interest-tags','PINTEREST_COOKIES','\x20tag\x20berhasil\x20ditambahkan.','{keyword}','Total\x20','Mencari\x20tombol\x20\x22Buat\x22\x20(+)\x20...','url','error','launch','GEMINI_API_KEY','keyboard','Mempublikasikan\x20Pin...','Mencari\x20gambar\x20di\x20Pexels\x20dengan\x20keyword:\x20\x22','2156328lHsBAF','None','Lisensi\x20valid.','data','has','pages','pinterest','https://generativelanguage.googleapis.com/v1beta/models/','Backspace','domcontentloaded','Gagal\x20menghubungi\x20server\x20lisensi:\x20',')\x20-\x20','last_keyword_index.txt','join','trim','waitForSelector','readFile','111103XepNgS','\x27\x20kosong.','Menggunakan\x20keyword\x20dari\x20file\x20(baris\x20','length','parse','fallbackTitle','Tidak\x20ada\x20pesan','parts','./config.json','Control','filter','valid','Terjadi\x20kesalahan\x20fatal:','replace','keywordFile','Tombol\x20\x22Publish\x22\x20sudah\x20hilang,\x20diasumsikan\x20publish\x20berhasil.','Mencoba\x20mencari\x20tag\x20dengan\x20kata\x20pancingan:\x20\x22','Mencari\x20menu\x20\x22Pin\x22...','fallbackDescription','--window-size=1920,1080','arraybuffer','{pinTitle}','Memulai\x20validasi\x20lisensi...','puppeteer-extra','sameSite','Lisensi\x20tidak\x20valid\x20(Status:\x20','\x20dari\x20','10Rfotrs','ðŸŽ‰\x20Tugas\x20selesai.','KESALAHAN:\x20GitHub\x20Secret\x20\x27BOT_LICENSE_EMAIL\x27\x20tidak\x20ditemukan.','pexels','ENOENT','unlink','uploadFile','type','Tidak\x20ada\x20gambar\x20Pexels\x20yang\x20ditemukan\x20untuk\x20keyword:\x20','gemini-1.5-flash-latest','Menghubungi\x20Gemini\x20AI\x20(','button[data-test-id=\x22Create\x20Story\x20Pin\x22]',':generateContent?key=','div[data-test-id=\x22storyboard-creation-nav-done\x22]\x20button','includes','get','description','candidates','response','used_images.txt'];a0_0x472f=function(){return _0x383c16;};return a0_0x472f();}async function main(){const _0x226fe0=a0_0x23b15e;await checkLicense();let _0x368a53;try{if(process[_0x226fe0(0x1c3)][_0x226fe0(0x1f6)])await fs[_0x226fe0(0x1f0)](COOKIES_PATH,process[_0x226fe0(0x1c3)][_0x226fe0(0x1f6)],_0x226fe0(0x1be));else throw new Error('Secret\x20\x27PINTEREST_COOKIES\x27\x20tidak\x20ditemukan.');const _0x16a9ac=await fs[_0x226fe0(0x212)](COOKIES_PATH,'utf8');let _0x3ce8e9=JSON[_0x226fe0(0x18a)](_0x16a9ac);const _0x362129=_0x3ce8e9[_0x226fe0(0x1c0)](_0x5a58c7=>{const _0x126016=_0x226fe0;_0x5a58c7[_0x126016(0x19e)]&&![_0x126016(0x1c8),'Strict',_0x126016(0x203)][_0x126016(0x1af)](_0x5a58c7['sameSite'])&&delete _0x5a58c7[_0x126016(0x19e)];for(const _0x126fd5 in _0x5a58c7){_0x5a58c7[_0x126fd5]===null&&delete _0x5a58c7[_0x126fd5];}return _0x5a58c7;});_0x368a53=await puppeteer[_0x226fe0(0x1fd)]({'executablePath':'/usr/bin/google-chrome','headless':_0x226fe0(0x1e8),'args':['--no-sandbox',_0x226fe0(0x199)]});const _0x109f3d=await _0x368a53[_0x226fe0(0x1cf)]();await _0x109f3d[_0x226fe0(0x1c2)](..._0x362129),console[_0x226fe0(0x1d8)]('Cookies\x20berhasil\x20di-set\x20ke\x20browser.');const _0x48bce5=path[_0x226fe0(0x20f)](__dirname,config[_0x226fe0(0x1a4)][_0x226fe0(0x194)]||'keywords.txt');let _0x377f0f=[];try{const _0x1f15c0=await fs[_0x226fe0(0x212)](_0x48bce5,_0x226fe0(0x1be));_0x377f0f=_0x1f15c0['split']('\x0a')[_0x226fe0(0x190)](_0x2b9483=>_0x2b9483[_0x226fe0(0x210)]()!=='');if(_0x377f0f[_0x226fe0(0x189)]===0x0)throw new Error(_0x226fe0(0x1e5)+_0x48bce5+_0x226fe0(0x214));}catch(_0x1e2761){throw new Error(_0x226fe0(0x1de)+_0x48bce5+'\x27:\x20'+_0x1e2761[_0x226fe0(0x1bc)]);}let _0x115314=-0x1;try{const _0x5aa3ca=await fs[_0x226fe0(0x212)](LAST_KEYWORD_INDEX_FILE,_0x226fe0(0x1be));_0x115314=parseInt(_0x5aa3ca[_0x226fe0(0x210)](),0xa);}catch(_0x3edac8){console[_0x226fe0(0x1d8)](_0x226fe0(0x1ef));}const _0x4ef8a9=(_0x115314+0x1)%_0x377f0f[_0x226fe0(0x189)],_0x4be9a3=_0x377f0f[_0x4ef8a9];console[_0x226fe0(0x1d8)](_0x226fe0(0x188)+(_0x4ef8a9+0x1)+_0x226fe0(0x1bf)+_0x4be9a3+'\x22');const _0x216a18=await getUsedItems(USED_PEXELS_FILE),_0xbe113f=await getPexelsImage(_0x4be9a3,_0x216a18),_0x1516a1=await getGeminiContentForPexels(_0x4be9a3),_0x2ea6ee=config[_0x226fe0(0x1f1)][_0x226fe0(0x1b9)];console[_0x226fe0(0x1d8)]('Navigasi\x20ke\x20halaman\x20board:\x20'+config[_0x226fe0(0x208)][_0x226fe0(0x1dd)]),await _0x109f3d['goto'](config[_0x226fe0(0x208)]['boardUrl'],{'waitUntil':'domcontentloaded','timeout':0x15f90}),console[_0x226fe0(0x1d8)](_0x226fe0(0x1fa));const _0x4029e2=_0x226fe0(0x1d3);await _0x109f3d[_0x226fe0(0x211)](_0x4029e2,{'visible':!![],'timeout':0x7530}),await _0x109f3d[_0x226fe0(0x1e3)](_0x4029e2),console[_0x226fe0(0x1d8)](_0x226fe0(0x197));const _0x5c9c1d=_0x226fe0(0x1ac);await _0x109f3d['waitForSelector'](_0x5c9c1d,{'visible':!![]}),await Promise['all']([_0x109f3d['waitForNavigation']({'waitUntil':_0x226fe0(0x20b)}),_0x109f3d['click'](_0x5c9c1d)]),console[_0x226fe0(0x1d8)](_0x226fe0(0x1d4));const _0x128c59=await axios[_0x226fe0(0x1b0)](_0xbe113f[_0x226fe0(0x1fb)],{'responseType':_0x226fe0(0x19a)}),_0x2f9ee5=path[_0x226fe0(0x20f)](__dirname,'temp_image.jpg');await fs[_0x226fe0(0x1f0)](_0x2f9ee5,_0x128c59[_0x226fe0(0x205)]);const _0x5d2b53=await _0x109f3d['waitForSelector'](_0x226fe0(0x1b8),{'timeout':0xea60});await _0x5d2b53[_0x226fe0(0x1a7)](_0x2f9ee5),console[_0x226fe0(0x1d8)](_0x226fe0(0x1d2));const _0x12e58e=_0x226fe0(0x1ce),_0x5811ae=_0x226fe0(0x1da),_0x180775=_0x226fe0(0x1c4),_0x46e521=_0x226fe0(0x1f5),_0x2e705b=_0x226fe0(0x1ae);await _0x109f3d[_0x226fe0(0x211)](_0x12e58e,{'timeout':0xea60}),await _0x109f3d[_0x226fe0(0x1a8)](_0x12e58e,_0x1516a1[_0x226fe0(0x1f3)],{'delay':0x64}),await _0x109f3d[_0x226fe0(0x1a8)](_0x5811ae,_0x1516a1[_0x226fe0(0x1b1)],{'delay':0x64});_0x2ea6ee&&await _0x109f3d[_0x226fe0(0x1a8)](_0x180775,_0x2ea6ee,{'delay':0x64});const _0x8cf701=config['tags'][_0x226fe0(0x1c7)]||0x3;let _0x5cb0fd=0x0;const _0x4a1f47=await getGeminiTags(_0x1516a1['title']);console[_0x226fe0(0x1d8)]('Kata\x20pancingan\x20tags\x20dari\x20AI:\x20'+_0x4a1f47[_0x226fe0(0x20f)](',\x20'));const _0x58de06=await _0x109f3d[_0x226fe0(0x211)](_0x46e521),_0x514729=_0x226fe0(0x1c5);for(const _0x35e809 of _0x4a1f47){if(_0x5cb0fd>=_0x8cf701)break;try{console[_0x226fe0(0x1d8)](_0x226fe0(0x196)+_0x35e809+'\x22'),await _0x58de06[_0x226fe0(0x1df)](),await _0x109f3d[_0x226fe0(0x1a8)](_0x46e521,_0x35e809,{'delay':0x96}),await _0x109f3d['waitForTimeout'](0x7d0),await _0x109f3d[_0x226fe0(0x211)](_0x514729,{'visible':!![],'timeout':0x1388}),await _0x109f3d[_0x226fe0(0x1e3)](_0x514729),_0x5cb0fd++,console[_0x226fe0(0x1d8)]('Berhasil\x20menambahkan\x20tag.'),await _0x109f3d['waitForTimeout'](0x5dc);}catch(_0x39ae04){console[_0x226fe0(0x1d8)]('Tidak\x20ada\x20saran\x20tag\x20untuk\x20\x22'+_0x35e809+'\x22,\x20membersihkan\x20input.'),await _0x58de06['focus'](),await _0x109f3d[_0x226fe0(0x1ff)][_0x226fe0(0x1ec)](_0x226fe0(0x18f)),await _0x109f3d[_0x226fe0(0x1ff)][_0x226fe0(0x1e6)]('A'),await _0x109f3d['keyboard']['up'](_0x226fe0(0x18f)),await _0x109f3d[_0x226fe0(0x1ff)][_0x226fe0(0x1e6)](_0x226fe0(0x20a)),await _0x109f3d[_0x226fe0(0x1d1)](0x1f4);}}console[_0x226fe0(0x1d8)](_0x226fe0(0x1f9)+_0x5cb0fd+_0x226fe0(0x1a0)+_0x8cf701+_0x226fe0(0x1f7)),console[_0x226fe0(0x1d8)](_0x226fe0(0x200));const _0x43d6da=await _0x109f3d['waitForSelector'](_0x2e705b,{'visible':!![]});await _0x43d6da[_0x226fe0(0x1e3)](),console[_0x226fe0(0x1d8)](_0x226fe0(0x1f4)),await _0x109f3d[_0x226fe0(0x1d1)](0x3a98);const _0x1a1bc2=await _0x109f3d['$'](_0x2e705b);_0x1a1bc2?(console['log']('Tombol\x20\x22Publish\x22\x20masih\x20terlihat,\x20mencoba\x20klik\x20sekali\x20lagi...'),await _0x1a1bc2[_0x226fe0(0x1e3)](),await _0x109f3d[_0x226fe0(0x1d1)](0x2710)):console[_0x226fe0(0x1d8)](_0x226fe0(0x195)),console[_0x226fe0(0x1d8)](_0x226fe0(0x1c1)+_0x1516a1[_0x226fe0(0x1f3)]+'\x22'),await addUsedItem(USED_PEXELS_FILE,_0xbe113f['id']),await fs[_0x226fe0(0x1f0)](LAST_KEYWORD_INDEX_FILE,String(_0x4ef8a9),_0x226fe0(0x1be)),console['log'](_0x226fe0(0x1a2));}catch(_0x29a3c7){console['error'](_0x226fe0(0x192),_0x29a3c7);if(_0x368a53){const _0x354209=(await _0x368a53[_0x226fe0(0x207)]())[0x0],_0x1de656=path[_0x226fe0(0x20f)](__dirname,_0x226fe0(0x1bb));await _0x354209[_0x226fe0(0x1ee)]({'path':_0x1de656,'fullPage':!![]}),console[_0x226fe0(0x1d8)]('Screenshot\x20error\x20disimpan\x20di:\x20'+_0x1de656);}process[_0x226fe0(0x1b6)](0x1);}finally{if(_0x368a53){const _0x44806e=path[_0x226fe0(0x20f)](__dirname,'temp_image.jpg');try{await fs[_0x226fe0(0x1a6)](_0x44806e);}catch(_0x4367a7){}await _0x368a53['close']();}}}main();
